@using Fatec.Application.ViewModels;
@model IEnumerable<VagaEstagioViewModel>
<style>
    teste {
        -webkit-column-count: 3; /* Chrome, Safari, Opera */
        -moz-column-count: 3; /* Firefox */
        column-count: 3;
    }
</style>

<br />

<div class="row teste">

    @if (Model != null)
    {
        //foreach (var vaga in Model)
        for (int i = 0; i < Model.Count(); i++)
        {
            VagaEstagioViewModel vaga = Model.ElementAt(i);

            if (vaga != null)
            {
                <div class="col s12 m6 l6 xl4 ">
                    <div class="card hoverable">
                        <div class="card-image">
                            <img class="materialboxed" src="@vaga.UrlImagem">
                        </div>
                        <div class="card-content">
                            <span class="card-title activator grey-text text-darken-4">@vaga.Titulo<i class="material-icons right">more_vert</i></span>
                            @if (vaga.Empresa.Email != null)
                            {
                                <p>Contato: <a href="@vaga.Empresa.Email">@vaga.Empresa.Email.ToLower()</a></p>
                            }
                        </div>
                        <div class="card-reveal hoverable">
                            <span class="card-title grey-text text-darken-4">@vaga.Titulo<i class="material-icons right">close</i></span>
                            <p>
                                @Html.Raw(@vaga.Descricao)
                            </p>
                        </div>
                        <div class="card-action">
                            @if (vaga.Empresa.UrlSite != null)
                            {
                                var url = vaga.Empresa.UrlSite;
                                if (!(url.ToUpper().Contains("HTTP://") || url.ToUpper().Contains("HTTPS://")))
                                {
                                    url = string.Format("Http://{0}", url);
                                }

                                <a href="@url"><i class="material-icons tiny">open_in_browser</i>@vaga.Empresa.UrlSite.ToLower()</a>
                            }
                            <a href="#">Mais Detalhes..</a>
                        </div>
                    </div>
                </div>
            }
        }
    }
    else
    {
        <div class="center">
            <h4>Nenhuma vaga de Estágio disponível no momento</h4>
        </div>
    }

</div>